{% case site.color-scheme %}
  {% when "", nil, false, 0, empty %}
    {% assign ColorScheme = "auto" %}
  {% else %}
    {% assign ColorScheme = site.color-scheme %}
{% endcase %}

<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% seo %}
    <link rel="stylesheet" href="{{ "/assets/css/colors-ColorScheme.css?v=" | replace: "ColorScheme", ColorScheme | append: site.github.build_revision | relative_url }}">
    <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">
    <link rel="preload" href="{{site.logo | relative_url}}" as="image">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>
    <script>
    document.addEventListener("DOMContentLoaded", async () => {
        mermaid.initialize({
        startOnLoad: false,
        theme: "dark",
        });

        // ```mermaid の出力 (pre > code.language-mermaid) を <div class="mermaid"> に変換
        const blocks = document.querySelectorAll("pre > code.language-mermaid");
        for (const code of blocks) {
        const pre = code.parentElement;

        const div = document.createElement("div");
        div.className = "mermaid";
        div.textContent = code.textContent;

        pre.replaceWith(div);
        }

        // Mermaid
        await mermaid.run({ querySelector: ".mermaid" });
    });
    </script>
    {% include head-custom.html %}
</head>
  <body class="page-{{ page.slug | default: page.title | slugify }}{% if page.toc_h2_only %} toc-h2-only{% endif %}">
    <div class="wrapper">
      <div class="sidebar">
        <header>
          {%- include header.html -%}
        </header>
        {% include mobile.html %}
        <div class="sidebar-footer">
          {%- include footer.html -%}
        </div>
      </div>
      <section>
      {{ content }}
      </section>
      <footer>
        {%- include footer.html -%}
      </footer>
    </div>
    <script src="{{ "/assets/js/scale.fix.js" | relative_url }}"></script>
  </body>
</html>